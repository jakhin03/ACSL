server {
    listen 80;
    index index.php index.html index.htm; # Thêm index.php vào danh sách index
    server_name localhost; # Hoặc domain/IP của bạn

    root /usr/share/nginx/html; # Thư mục gốc mặc định của Nginx

    location / {
        try_files $uri $uri/ =404;
    }

    # Pass PHP requests to PHP-FPM
    location ~ \.php$ {
        # Bao gồm cấu hình FastCGI tiêu chuẩn
        include snippets/fastcgi-php.conf;
        # Cấu hình Nginx kết nối đến PHP-FPM qua Unix socket
        # Đường dẫn socket có thể thay đổi tùy phiên bản PHP được cài đặt.
        # Thường là /var/run/php/phpX.Y-fpm.sock (với X.Y là phiên bản PHP).
        # Bạn có thể cần kiểm tra lại đường dẫn chính xác sau khi build image.
        fastcgi_pass unix:/var/run/php/php-fpm.sock; # <-- **KIỂM TRA VÀ CẬP NHẬT ĐƯỜNG DẪN NÀY**
        # fastcgi_pass unix:/var/run/php/php7.4-fpm.sock; # Ví dụ nếu cài PHP 7.4

        fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;
        include fastcgi_params;
    }

    # Chặn truy cập vào file .htaccess (chỉ dùng trong Apache, nhưng tốt nhất nên chặn)
    location ~ /\.ht {
        deny all;
    }
}